<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPERACI√ìN EQUIPO DINAMITA</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- PASSWORD SCREEN -->
    <div id="passwordScreen" class="screen active">
        <div class="password-container">
            <div class="console-header">
                <span class="glitch" data-text="SISTEMA DE DESACTIVACI√ìN">SISTEMA DE DESACTIVACI√ìN</span>
            </div>
            <div class="password-box">
                <p class="terminal-text">INGRESA CONTRASE√ëA DE BOMBA:</p>
                <p class="password-hint">Formato: B-01 a B-07</p>
                <input type="password" id="passwordInput" class="password-input" placeholder="B-0X" maxlength="4">
                <button id="passwordBtn" class="btn-main">CARGAR BOMBA</button>
                <p id="passwordError" class="error-message"></p>
            </div>
        </div>
    </div>

    <!-- MAIN GAME SCREEN -->
    <div id="gameScreen" class="screen">
        <!-- HEADER -->
        <header class="game-header">
            <div class="header-section">
                <h1 class="glitch" data-text="‚ö° OPERACI√ìN EQUIPO DINAMITA ‚ö°">‚ö° OPERACI√ìN EQUIPO DINAMITA ‚ö°</h1>
            </div>
            <div class="header-section timer-section">
                <div id="timer" class="timer">20:00</div>
                <div class="status-indicator"></div>
            </div>
        </header>

        <!-- MAIN CONTENT -->
        <div class="game-content">
            <!-- SIDEBAR -->
            <aside class="modules-sidebar">
                <div class="sidebar-header">M√ìDULOS (10/10)</div>
                <div id="modulesList" class="modules-list">
                    <!-- Generated by JS -->
                </div>
            </aside>

            <!-- CENTER AREA -->
            <main class="module-area">
                <div id="moduleContent" class="module-content">
                    <!-- Modules dynamically inserted here -->
                </div>
            </main>
        </div>

        <!-- FOOTER -->
        <footer class="game-footer">
            <span id="bombStatus">BOMBA: ARMADA</span>
            <span id="progressBar" class="progress-indicator">‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë</span>
        </footer>
    </div>

    <!-- VICTORY SCREEN -->
    <div id="victoryScreen" class="screen">
        <div class="victory-container">
            <div class="victory-animation">‚úì</div>
            <h1 class="glitch" data-text="¬°MISI√ìN CUMPLIDA!">¬°MISI√ìN CUMPLIDA!</h1>
            <div class="victory-details">
                <p>BOMBA DESACTIVADA EXITOSAMENTE</p>
                <p id="victoryTime" class="victory-stat">Tiempo Restante: --:--</p>
                <p id="victoryCode" class="victory-code">C√ìDIGO: XXXX-XXXX</p>
            </div>
            <button id="restartBtn" class="btn-main">REINICIAR SISTEMA</button>
        </div>
    </div>

    <!-- FAILURE SCREEN -->
    <div id="failureScreen" class="screen">
        <div class="failure-container">
            <div class="detonation-animation">üí£</div>
            <h1 class="glitch" data-text="‚ö†Ô∏è ¬°DETONACI√ìN! ‚ö†Ô∏è">‚ö†Ô∏è ¬°DETONACI√ìN! ‚ö†Ô∏è</h1>
            <div class="failure-details">
                <p>LA BOMBA HA SIDO DETONADA</p>
                <p class="error-message">MISI√ìN FALLIDA</p>
            </div>
            <button id="restartBtn2" class="btn-main">REINICIAR SISTEMA</button>
        </div>
    </div>

    <!-- MODULE TEMPLATES (Hidden) -->
    <div id="moduleTemplates" style="display: none;">
        <!-- M1: Interruptores -->
        <div id="template-m1" class="module">
            <h2>M√ìDULO 1: CARGA DE SUMA VECTORIAL</h2>
            <p class="module-description">Suma total acumulada: Si > 50 ‚Üí c√≥digo 1111. Sino ‚Üí binario de 4 bits</p>
            <div class="switches-container">
                <label class="switch-toggle">
                    <input type="checkbox" class="switch-input" data-index="0">
                    <span class="switch-slider"></span>
                    <span class="switch-label">SW-1</span>
                </label>
                <label class="switch-toggle">
                    <input type="checkbox" class="switch-input" data-index="1">
                    <span class="switch-slider"></span>
                    <span class="switch-label">SW-2</span>
                </label>
                <label class="switch-toggle">
                    <input type="checkbox" class="switch-input" data-index="2">
                    <span class="switch-slider"></span>
                    <span class="switch-label">SW-3</span>
                </label>
                <label class="switch-toggle">
                    <input type="checkbox" class="switch-input" data-index="3">
                    <span class="switch-slider"></span>
                    <span class="switch-label">SW-4</span>
                </label>
            </div>
            <button class="btn-validate">VALIDAR</button>
        </div>

        <!-- M2: Rueda de A√±os -->
        <div id="template-m2" class="module">
            <h2>M√ìDULO 2: RUEDA TEMPORAL</h2>
            <p class="module-description">Promedio ponderado: √∫ltimos 2 d√≠gitos + a√±o fundaci√≥n (2026)</p>
            <div class="year-wheel-container">
                <input type="range" id="yearSlider" class="year-slider" min="1990" max="2030" value="2010">
                <div class="year-display" id="yearDisplay">2010</div>
            </div>
            <button class="btn-validate">VALIDAR</button>
        </div>

        <!-- M3: Preguntas Python -->
        <div id="template-m3" class="module">
            <h2>M√ìDULO 3: CONOCIMIENTO PYTHON</h2>
            <p class="module-description">Responde correctamente las 3 preguntas de Python</p>
            <div class="question-progress" id="questionProgress">Pregunta 1 de 3</div>
            <div class="python-question">
                <p id="questionText" class="question-text">Cargando pregunta...</p>
            </div>
            <div class="python-options">
                <button class="option-btn" data-option="0"></button>
                <button class="option-btn" data-option="1"></button>
                <button class="option-btn" data-option="2"></button>
                <button class="option-btn" data-option="3"></button>
            </div>
            <button class="btn-validate">CONFIRMAR RESPUESTA</button>
        </div>

        <!-- M4: Cables -->
        <div id="template-m4" class="module">
            <h2>M√ìDULO 4: PANEL DE CABLES</h2>
            <p class="module-description">Identifica dominancia energ√©tica: Corta el cable con mayor energ√≠a acumulada</p>
            <div class="cables-container">
                <div class="cable red-cable" data-color="RED">
                    <div class="cable-visual"></div>
                    <span>ROJO</span>
                </div>
                <div class="cable green-cable" data-color="GREEN">
                    <div class="cable-visual"></div>
                    <span>VERDE</span>
                </div>
                <div class="cable blue-cable" data-color="BLUE">
                    <div class="cable-visual"></div>
                    <span>AZUL</span>
                </div>
            </div>
            <button class="btn-validate">VALIDAR</button>
        </div>

        <!-- M5: Agentes Especiales -->
        <div id="template-m5" class="module">
            <h2>M√ìDULO 5: PANEL DE AGENTES</h2>
            <p class="module-description">Agentes √∫nicos con energ√≠a > 50 (ingresar el n√∫mero)</p>
            <input type="text" class="special-input" placeholder="0" maxlength="1">
            <div class="symbol-keyboard">
                <button class="symbol-btn" data-symbol="0">0</button>
                <button class="symbol-btn" data-symbol="1">1</button>
                <button class="symbol-btn" data-symbol="2">2</button>
                <button class="symbol-btn" data-symbol="3">3</button>
            </div>
            <button class="btn-validate">VALIDAR</button>
        </div>

        <!-- M6: Teclado Num√©rico -->
        <div id="template-m6" class="module">
            <h2>M√ìDULO 6: TECLADO INVERSO</h2>
            <p class="module-description">Sensor m√°s activo (Moda) invertido: Ingresa el ID invertido</p>
            <input type="text" class="numpad-input" placeholder="000" maxlength="3" readonly>
            <div class="numpad-grid">
                <button class="numpad-btn" data-num="7">7</button>
                <button class="numpad-btn" data-num="8">8</button>
                <button class="numpad-btn" data-num="9">9</button>
                <button class="numpad-btn" data-num="4">4</button>
                <button class="numpad-btn" data-num="5">5</button>
                <button class="numpad-btn" data-num="6">6</button>
                <button class="numpad-btn" data-num="1">1</button>
                <button class="numpad-btn" data-num="2">2</button>
                <button class="numpad-btn" data-num="3">3</button>
                <button class="numpad-btn del" data-num="DEL">DEL</button>
                <button class="numpad-btn" data-num="0">0</button>
                <button class="numpad-btn confirm" data-num="OK">OK</button>
            </div>
        </div>

        <!-- M7: Cron√≥metro -->
        <div id="template-m7" class="module">
            <h2>M√ìDULO 7: SINCRONIZACI√ìN</h2>
            <p class="module-description">Delta de tiempo: Desviaci√≥n est√°ndar redondeada a 2 decimales</p>
            <div class="chronometer-display" id="chronometerDisplay">00:00</div>
            <button class="btn-main stop-btn">STOP</button>
            <p class="chrono-hint">Presiona STOP al tiempo exacto</p>
        </div>

        <!-- M8: Mapa del Ecuador -->
        <div id="template-m8" class="module">
            <h2>M√ìDULO 8: RUTA DE EVACUACI√ìN</h2>
            <p class="module-description">Selecciona las provincias en el ORDEN EXACTO de la ruta de evacuaci√≥n establecida</p>
            <svg class="ecuador-map" viewBox="0 0 500 650" xmlns="http://www.w3.org/2000/svg">
                <!-- COSTA -->
                <!-- Esmeraldas -->
                <path class="province" data-province="Esmeraldas" d="M 120 70 L 100 50 L 130 35 L 160 45 L 185 70 L 195 95 L 180 110 L 160 105 L 145 120 L 130 115 L 125 95 Z" />
                <text x="150" y="85" class="province-label">Esmeraldas</text>
                
                <!-- Manab√≠ -->
                <path class="province" data-province="Manab√≠" d="M 125 95 L 130 115 L 145 120 L 145 145 L 140 170 L 125 195 L 105 215 L 90 220 L 75 210 L 70 185 L 80 160 L 95 140 L 105 120 Z" />
                <text x="105" y="165" class="province-label">Manab√≠</text>
                
                <!-- Santo Domingo -->
                <path class="province" data-province="Santo Domingo" d="M 145 120 L 160 105 L 180 110 L 190 125 L 185 145 L 165 150 L 145 145 Z" />
                <text x="160" y="130" class="province-label">SD</text>
                
                <!-- Los R√≠os -->
                <path class="province" data-province="Los R√≠os" d="M 105 215 L 125 195 L 140 200 L 155 215 L 160 240 L 145 255 L 125 250 L 110 235 Z" />
                <text x="130" y="230" class="province-label">Los R√≠os</text>
                
                <!-- Guayas -->
                <path class="province" data-province="Guayas" d="M 75 210 L 90 220 L 105 215 L 110 235 L 125 250 L 130 275 L 120 295 L 95 305 L 75 295 L 60 275 L 55 250 L 65 230 Z" />
                <text x="90" y="260" class="province-label">Guayas</text>
                
                <!-- Santa Elena -->
                <path class="province" data-province="Santa Elena" d="M 55 250 L 60 275 L 75 295 L 70 310 L 50 320 L 35 315 L 30 295 L 40 275 Z" />
                <text x="50" y="295" class="province-label">S.Elena</text>
                
                <!-- El Oro -->
                <path class="province" data-province="El Oro" d="M 95 305 L 120 295 L 130 275 L 145 280 L 155 300 L 160 325 L 150 350 L 130 360 L 110 355 L 100 335 Z" />
                <text x="125" y="325" class="province-label">El Oro</text>
                
                <!-- SIERRA -->
                <!-- Carchi -->
                <path class="province" data-province="Carchi" d="M 195 95 L 215 85 L 240 90 L 260 105 L 255 125 L 240 135 L 220 130 L 205 120 L 190 125 Z" />
                <text x="225" y="115" class="province-label">Carchi</text>
                
                <!-- Imbabura -->
                <path class="province" data-province="Imbabura" d="M 190 125 L 205 120 L 220 130 L 230 145 L 220 160 L 200 155 L 185 145 Z" />
                <text x="205" y="145" class="province-label">Imbabura</text>
                
                <!-- Pichincha -->
                <path class="province" data-province="Pichincha" d="M 145 145 L 165 150 L 185 145 L 200 155 L 210 175 L 215 195 L 200 210 L 180 215 L 165 205 L 155 185 L 140 170 Z" />
                <text x="170" y="180" class="province-label">Pichincha</text>
                
                <!-- Cotopaxi -->
                <path class="province" data-province="Cotopaxi" d="M 140 200 L 155 215 L 165 205 L 180 215 L 185 235 L 175 250 L 160 255 L 145 255 L 140 235 Z" />
                <text x="155" y="235" class="province-label">Cotopaxi</text>
                
                <!-- Tungurahua -->
                <path class="province" data-province="Tungurahua" d="M 180 215 L 200 210 L 210 225 L 205 245 L 190 250 L 175 250 L 185 235 Z" />
                <text x="190" y="235" class="province-label">Tung.</text>
                
                <!-- Bol√≠var -->
                <path class="province" data-province="Bol√≠var" d="M 130 275 L 145 255 L 160 255 L 165 275 L 160 295 L 145 300 L 145 280 Z" />
                <text x="148" y="280" class="province-label">Bol√≠var</text>
                
                <!-- Chimborazo -->
                <path class="province" data-province="Chimborazo" d="M 160 255 L 175 250 L 190 250 L 200 265 L 200 285 L 185 295 L 170 295 L 160 295 L 165 275 Z" />
                <text x="175" y="275" class="province-label">Chimbor.</text>
                
                <!-- Ca√±ar -->
                <path class="province" data-province="Ca√±ar" d="M 145 300 L 160 295 L 170 295 L 175 310 L 170 325 L 155 330 L 145 320 Z" />
                <text x="157" y="315" class="province-label">Ca√±ar</text>
                
                <!-- Azuay -->
                <path class="province" data-province="Azuay" d="M 130 360 L 150 350 L 155 330 L 170 325 L 190 330 L 200 350 L 195 375 L 175 385 L 155 380 L 140 370 Z" />
                <text x="165" y="360" class="province-label">Azuay</text>
                
                <!-- Loja -->
                <path class="province" data-province="Loja" d="M 140 370 L 155 380 L 175 385 L 180 405 L 175 430 L 155 445 L 135 440 L 125 420 L 125 390 Z" />
                <text x="145" y="415" class="province-label">Loja</text>
                
                <!-- AMAZON√çA -->
                <!-- Sucumb√≠os -->
                <path class="province" data-province="Sucumb√≠os" d="M 240 135 L 255 125 L 260 105 L 290 100 L 320 110 L 350 125 L 370 145 L 375 165 L 360 180 L 335 185 L 310 180 L 285 175 L 265 170 L 250 155 L 230 145 Z" />
                <text x="305" y="150" class="province-label">Sucumb√≠os</text>
                
                <!-- Napo -->
                <path class="province" data-province="Napo" d="M 220 160 L 230 145 L 250 155 L 265 170 L 285 175 L 305 185 L 315 205 L 305 225 L 280 230 L 255 225 L 235 215 L 220 200 L 210 175 Z" />
                <text x="255" y="195" class="province-label">Napo</text>
                
                <!-- Orellana -->
                <path class="province" data-province="Orellana" d="M 310 180 L 335 185 L 360 180 L 375 165 L 400 175 L 420 195 L 430 220 L 425 245 L 405 255 L 380 250 L 355 240 L 330 230 L 315 205 L 305 185 Z" />
                <text x="365" y="215" class="province-label">Orellana</text>
                
                <!-- Pastaza -->
                <path class="province" data-province="Pastaza" d="M 205 245 L 210 225 L 220 200 L 235 215 L 255 225 L 280 230 L 305 240 L 330 255 L 350 275 L 360 300 L 350 325 L 320 335 L 285 330 L 260 315 L 235 295 L 215 275 L 200 265 Z" />
                <text x="275" y="280" class="province-label">Pastaza</text>
                
                <!-- Morona Santiago -->
                <path class="province" data-province="Morona Santiago" d="M 200 285 L 215 275 L 235 295 L 260 315 L 285 330 L 300 355 L 305 385 L 295 415 L 270 435 L 245 440 L 220 425 L 200 405 L 190 380 L 190 350 L 200 330 Z" />
                <text x="245" y="365" class="province-label">M.Santiago</text>
                
                <!-- Zamora Chinchipe -->
                <path class="province" data-province="Zamora Chinchipe" d="M 175 430 L 180 405 L 200 405 L 220 425 L 245 440 L 255 465 L 250 490 L 230 505 L 210 510 L 190 500 L 175 480 L 165 455 Z" />
                <text x="205" y="465" class="province-label">Z.Chinchipe</text>
                
                <!-- GAL√ÅPAGOS (separado) -->
                <g id="galapagos-group">
                    <path class="province galapagos" data-province="Gal√°pagos" d="M 60 560 Q 50 555 45 565 Q 42 575 50 582 Q 60 588 70 582 Q 78 575 75 565 Q 72 555 60 560 Z" />
                    <path class="province galapagos" data-province="Gal√°pagos" d="M 85 555 Q 78 550 70 555 Q 65 562 70 570 Q 78 576 88 572 Q 95 565 92 557 Q 90 552 85 555 Z" />
                    <circle class="province galapagos" data-province="Gal√°pagos" cx="100" cy="575" r="8" />
                    <circle class="province galapagos" data-province="Gal√°pagos" cx="65" cy="595" r="6" />
                    <text x="50" y="615" class="province-label">Gal√°pagos</text>
                </g>
            </svg>
            <div class="priority-info">
                <div class="priority-sequence">Orden de prioridad: <span id="prioritySequence">Ninguno</span></div>
                <div class="priority-count">Provincias seleccionadas: <span id="priorityCount">0</span></div>
            </div>
            <button class="btn-validate">VALIDAR SECUENCIA</button>
            <button class="btn-reset">REINICIAR</button>
        </div>

        <!-- M9: Dial Rotatorio -->
        <div id="template-m9" class="module">
            <h2>M√ìDULO 9: DIAL DE PRESI√ìN</h2>
            <p class="module-description">Correlaci√≥n: Si > 0 ‚Üí 9 | Si < 0 ‚Üí 1 | Si ‚âà 0 ‚Üí 5</p>
            <div class="dial-container">
                <div class="dial-display" id="dialDisplay">0</div>
                <input type="range" class="dial-slider" min="0" max="9" value="0">
            </div>
            <button class="btn-validate">VALIDAR</button>
        </div>

        <!-- M10: Verificaci√≥n Multi-m√≥dulo -->
        <div id="template-m10" class="module">
            <h2>M√ìDULO 10: VERIFICACI√ìN INTEGRADA</h2>
            <p class="module-description">Resuelve el c√≥digo de desactivaci√≥n usando datos de todos los m√≥dulos anteriores</p>
            <div class="verification-container">
                <div class="code-display">
                    <p class="code-label">C√ìDIGO A INGRESAR:</p>
                    <div class="code-blocks">
                        <div class="code-block" id="codeBlock1">
                            <span class="block-label">M1-M3</span>
                            <input type="text" class="code-input" data-block="1" placeholder="?" maxlength="2">
                        </div>
                        <div class="code-block" id="codeBlock2">
                            <span class="block-label">M2-M5</span>
                            <input type="text" class="code-input" data-block="2" placeholder="?" maxlength="2">
                        </div>
                        <div class="code-block" id="codeBlock3">
                            <span class="block-label">M4-M6</span>
                            <input type="text" class="code-input" data-block="3" placeholder="?" maxlength="2">
                        </div>
                        <div class="code-block" id="codeBlock4">
                            <span class="block-label">M7-M8</span>
                            <input type="text" class="code-input" data-block="4" placeholder="?" maxlength="2">
                        </div>
                        <div class="code-block" id="codeBlock5">
                            <span class="block-label">M9</span>
                            <input type="text" class="code-input" data-block="5" placeholder="?" maxlength="1">
                        </div>
                    </div>
                </div>
                <div class="hints-section">
                    <p class="hints-title">REFERENCIAS:</p>
                    <div class="hints-grid">
                        <div class="hint-item">M1: Interruptores</div>
                        <div class="hint-item">M2: Sensores</div>
                        <div class="hint-item">M3: Conocimiento</div>
                        <div class="hint-item">M4: Cables</div>
                        <div class="hint-item">M5: Agentes</div>
                        <div class="hint-item">M6: Teclado</div>
                        <div class="hint-item">M7: Sincronizaci√≥n</div>
                        <div class="hint-item">M8: Ruta</div>
                        <div class="hint-item">M9: Dial</div>
                    </div>
                </div>
            </div>
            <button class="btn-validate">VALIDAR C√ìDIGO</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
